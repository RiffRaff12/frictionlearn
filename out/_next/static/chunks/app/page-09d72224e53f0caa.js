(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{83:(e,t,n)=>{Promise.resolve().then(n.bind(n,3904))},3904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5155),r=n(2115);function l(e){return/^\s+$/.test(e)}function i(e,t){return Math.floor(Math.random()*(t-e+1))+e}function o(e){let{text:t,font:n,variableSpacing:o,unstableSegmentation:s,showFullText:c,fontScale:d,enableCloze:h,randomFontSize:u,randomFontColor:m,fontSizeRange:f,colorIntensity:p}=e,x=(0,r.useMemo)(()=>"serif"===n?"font-disfluent-serif":"handwrite"===n?"font-disfluent-hand":"font-disfluent-condensed",[n]),b=["text-left","text-right","text-justify"],g=["font-disfluent-serif","font-disfluent-hand","font-disfluent-condensed","font-disfluent-slab","font-disfluent-mono"],[w,M]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{M(!0);try{let e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;y(!!e)}catch(e){y(!1)}},[]);let v=(0,r.useMemo)(()=>t.split(/(\s+)/).filter(e=>e.length>0),[t]),[N,k]=(0,r.useState)(null);if((0,r.useEffect)(()=>{w?k(function(e){let t=[],n=[],a=0,r=i(1,8);for(let o of e)n.push(o),!l(o)&&a++,a>=r&&(l(n[n.length-1])||n.push(" "),t.push(n.join("")),n=[],a=0,r=i(1,8));return n.length&&t.push(n.join("")),t}(v)):k(null)},[w,v]),c)return(0,a.jsx)("div",{className:"".concat(x),style:{fontSize:"".concat(d,"rem")},children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:t})});let S="text-left";return w&&N?(0,a.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:N.map((e,t)=>{w&&(.35>Math.random()||t%i(5,8)==0)&&(S=function(e,t){let n=t?e.filter(e=>e!==t):e;return n[Math.floor(Math.random()*n.length)]}(b,S));let n=w?g[Math.floor(Math.random()*g.length)]:x,r=w&&o?function(){if(Math.random()>.5)return null;let e=.02+.18*Math.random(),t=.6>Math.random()?0:.03*Math.random(),n=i(0,10),a=i(0,12);return{wordSpacing:"".concat(e,"em"),letterSpacing:"".concat(t,"em"),marginTop:"".concat(n,"px"),marginBottom:"".concat(a,"px"),lineHeight:1.45+.3*Math.random()}}():null,l=function(e){if(!e)return 16;let t=[10,12,14,16,20,28,36,48,64,80,96];return t[Math.floor(Math.random()*t.length)]}(u),s=w?function(e,t,n){if(!t)return e?"#e5e7eb":"#111827";let a=e?["#fecaca","#bfdbfe","#a7f3d0","#fde68a","#ddd6fe"]:["#f87171","#60a5fa","#34d399","#fbbf24","#a78bfa"];return a[Math.floor(Math.random()*a.length)]}(j,m,0):void 0,c=w?function(){let e=["italic","underline","bold"][Math.floor(3*Math.random())];return"italic"===e?{fontStyle:"italic"}:"underline"===e?{textDecoration:"underline"}:{fontWeight:700}}():{},d=(0,a.jsx)(a.Fragment,{children:e});return(0,a.jsx)("span",{className:"".concat(S," ").concat(n),style:{...r||{},display:"inline-block",fontSize:"".concat(l,"px"),color:s,...c},suppressHydrationWarning:!0,children:d},t)})}):(0,a.jsx)("div",{className:"".concat(x),style:{fontSize:"".concat(d,"rem")},children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:t})})}function s(e){let{enabled:t}=e,n=(0,r.useRef)(null);return((0,r.useEffect)(()=>{if(!t)return;let e=n.current;if(!e)return;let a=e.getContext("2d");if(!a)return;let r=0,l=Math.min(window.devicePixelRatio||1,2);function i(){let t=e.parentElement;if(!t)return;let n=t.clientWidth,a=Math.max(t.clientHeight,300);e.width=Math.floor(n*l),e.height=Math.floor(a*l),e.style.width="".concat(n,"px"),e.style.height="".concat(a,"px")}i();let o=new ResizeObserver(i);return e.parentElement&&o.observe(e.parentElement),r=requestAnimationFrame(function t(){let{width:n,height:l}=e;a.clearRect(0,0,n,l),a.globalAlpha=.04;for(let e=0;e<40;e++){let t=Math.random()*n,r=Math.random()*l,i=40+120*Math.random(),o=2+8*Math.random();a.fillStyle=e%2==0?"#999":"#666",a.fillRect(t,r,i,o)}a.globalAlpha=1,r=requestAnimationFrame(t)}),()=>{cancelAnimationFrame(r),o.disconnect()}},[t]),t)?(0,a.jsx)("canvas",{ref:n,"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 opacity-60"}):null}function c(e){let{text:t,regenKey:n}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(s,{enabled:!0}),(0,a.jsx)("div",{className:"min-h-[200px] p-4 sm:p-6 rounded-md border border-black/10 dark:border-white/10 bg-white/70 dark:bg-black/30 backdrop-blur",children:(0,a.jsx)(o,{text:t,font:"serif",variableSpacing:!0,unstableSegmentation:!1,showFullText:!1,fontScale:1,enableCloze:!1,randomFontSize:!0,randomFontColor:!0,fontSizeRange:1.5,colorIntensity:.8},n)})]})}function d(){let[e,t]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(0),s=(0,r.useRef)(null),d=async t=>{t.preventDefault(),e.trim()&&(l(e.trim()),o(e=>e+1))};return(0,a.jsxs)("div",{className:"min-h-screen p-6 sm:p-10",children:[(0,a.jsxs)("header",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"FrictionLearn"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Make reading harder, remember more."})]}),(0,a.jsxs)("div",{className:"grid gap-6 overflow-x-auto",style:{gridTemplateColumns:"360px 1400px",width:"max-content"},children:[(0,a.jsx)("div",{className:"min-w-[1400px] max-w-[1400px]",children:(0,a.jsxs)("form",{onSubmit:d,className:"mb-4",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("button",{type:"submit",className:"block w-fit px-4 py-2 rounded-md border text-sm",children:"Generate"}),n?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{type:"button",className:"block w-fit px-4 py-2 rounded-md border text-sm",onClick:()=>{l(null),t(""),s.current&&(s.current.style.height="")},children:"Clear"})}):null]}),(0,a.jsx)("textarea",{ref:s,className:"w-full min-w-[80ch] min-h-40 max-h-[70vh] p-3 border rounded-md bg-white/70 dark:bg-black/30 backdrop-blur resize-none overflow-hidden",placeholder:"Paste or type a block of text and click 'Generate'",value:e,onChange:e=>{t(e.target.value),e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")}})]})}),(0,a.jsx)("div",{className:"min-w-[360px] max-w-[360px]",children:n?(0,a.jsx)(c,{text:n,regenKey:i},i):(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Output will appear here after you click Start."})})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=83)),_N_E=e.O()}]);